부하 분산
- 시스템을 단일 서버로 구성할 경우, 장애 발생 시 사용자에게 서비스를 정상적으로 제공할 수 없음
- 이를 해결하기 위해 여분의 서버를 한 대 더 두고, 하나의 서버에서 장애가 발생했을 때 여분의 서버로 트래픽이 전달되도록 할 수 있음
- 그러나, 같은 기능을 하는 서버가 2대가 있음에도 트래픽이 서버 A에만 집중되어 효율적인 처리가 어려움
- 이를 해결하기 위해 만들어진 것이 로드 밸런서임
- 서버들의 상태를 주기적으로 체크하여 장애 발생 여부를 확인한 후 가용한 서버로 요청을 라우팅하며,
  특정 서버에 부하가 집중되지 않도록 부하를 적절히 분산하여 트래픽을 라우팅함

Elastic Load Balancing(ELB) : AWS가 제공하는 로드 밸런싱 서비스
- 왜 Elastic 인가?
- ELB는 트래픽의 변화를 감지하여, 트래픽의 증가 및 감소에 따라 추가 로드 밸런서를 자동으로 확장하거나 축소함
- 즉, 트래픽이 증가하면 ELB는 로드 밸런서의 수를 증가시키며, 반대로 트래픽이 감소하면 로드 밸런서의 수를 감소시킴
- 주기적인 헬스 체크를 통해 ELB와 연결된 서버들의 상태를 체크함
- 이를 통해 장애 발생 및 부하 집중 시 다른 서버로 요청을 라우팅함
- 다양한 로드 밸런서 유형을 제공하여 트래픽 패턴에 따라 최적화된 로드 밸런싱을 선택할 수 있음
  ALB, NLB, GWLB, CLB

ELB 구성 요소
로드 밸런스 : ELB의 햄식 요소로, 클라이언트의 요청을 수신함
            수신한 클라이언트의 요청을 리스너로 전달함
            리스너가 상대 그룹을 선택하면 대상 그룹 내 서버들의 헬스 체크를 진행한 후 최종 서버를 선택함

리스너 : 로드 밸런서가 수신할 트래픽의 포트와 프로토콜에 대한 설정을 포함함
        리스너 규칙에 따라 요청을 처리할 틀정 대상 그룹을 선택함

대상 그룹 : 로드 밸런서가 트래픽을 전송할 서버들의 그룹임
          로드 밸런싱에 적용될 서버들을 그룹화하여 설정할 수 있음

ELB 분류 - 통신 방식에 따른 분류
인터넷 경계 로드 밸런서
- 퍼블릭 IP 주소와 연결됨
- 인터넷과 통신이 가능함
- 클라이언트로부터 직접 요청을 받아야 하는 경우에 사용함

동작 방식
- 클라이언트가 로드 밸런서의 퍼블릭 IP로 요청을 보내면 로드밸런서가 트래픽을 받아서 분배함
- 로드 밸런서가 클라이언트와의 통신 진입점 역할을 제공함

내부 로드 밸런서
- 프라이빗 IP 주소를 가짐
- 인터넷과 통신이 불가하며, VPC 내부에서만 접근이 가능함
- 격리된 VPC 내의 내부 서비스 간 트래픽 분산에 사용됨

동작 방식
- VPC 내부 서비스가 로드 밸런서의 프라이빗 IP로 요청을 보내면 로드 밸런서가 트래픽을 받아서 분배함
- 퍼블릭 IP가 없어 외부에서는 로드 밸런서에 접근할 수 없음

ELB 분류 - 동작 계층에 따른 분류
- NLB(Network Load Balancer)
- 4계층인 네트워크 계층에서 동작함
- 4계층 프로토콜인 TCP, UDP, TLS를 지원함

- IP와 포트 번호 등 4계층까지의 정보를 기반으로 트래픽을 분산함
- 분산 방식이 단순하여 매우 빠른 처리 속도와 낮은 지연 시간을 가짐
- 실시간 애플리케이션 및 고속 통신이 필요한 경우 사용됨

ALB(Application Load Balancer)
- 7계층인 애플리케이션 계층에서 동작함
- 7계층 프로토콜인 HTTP, HTTPS를 지원함
- HTTP 헤더, URL 경로, 쿠키, 쿼리 문자열 등 다양한 7계층 정보를 바탕으로 부하를 분산함
- 분산 방식이 비교적 복잡하여 상대적으로 느린 처리 속도와 긴 지연 시간을 가짐(대규모 트래픽의 경우)
- 일반적인 웹 애플리케이션 등에 사용됨

https://another-day.tistory.com/entry/서버를-감시할-수-있는-세-종류의-헬스-체크-방식
https://zigispace.net/1221?category=698243
https://jibinary.tistory.com/196
https://sudo-minz.tistory.com/169
https://docs.aws.amazon.com/ko_kr/elasticloadbalancing/latest/userguide/how-elastic-load-balancing-works.html
https://velog.io/@yange/내부망폐쇄망에서-repository-구성
https://velog.io/@ssongji/AWS-Elastic-Load-Balancer-ELB-로드-밸런서-생성